# 项目更改日志

## 1.
- 将 README.md 从中文翻译成英文
- 将 doc_Structure_Description.md 从中文翻译成英文
- 更新项目文档以保持所有文件的一致性
- 将 `安装程序.spec` 重命名为 `installer_cn.spec` 以更好地支持国际化

## 2.
- 将 doc_Structure_Description.md 的详细内容整合到 docs/ARCHITECTURE.md 中
- 更新了架构文档，添加了详细的目录结构说明
- 保持了文档的一致性和完整性

## 3.
- 重构了构建系统的目录结构
  - 将 `build_logs` 目录移入 `build` 目录
  - 将 `dist` 目录移入 `build` 目录
  - 创建 `specs` 目录统一管理所有 `.spec` 文件
  - 将 `ai_review.spec` 和 `installer.spec` 移入 `build/specs` 目录
- 更新了 `build_all.py` 和 `installer.spec` 以适应新的目录结构
- 使用绝对路径处理资源文件，提高了构建过程的可靠性
- 更新了项目结构文档以反映这些更改

## 4.
- 进一步完善构建系统
  - 修复了密钥生成器的构建问题，创建了稳定的 `key_generator.spec` 文件
  - 修改所有组件配置，使其在运行时不显示终端窗口
  - 添加了更健壮的错误处理和日志记录
  - 实现了自动清理工作目录的机制，避免冗余文件
  - 确保所有 spec 文件使用绝对路径引用资源
- 完善了构建脚本的自动化程度，减少手动干预步骤
- 同步更新项目结构文档和更改日志，保持文档的一致性

## 5.
- 删除了不再使用的 `src/scripts` 目录
  - 所有构建相关功能已经移动到项目根目录下的 `build` 目录
  - 清理了项目结构，移除冗余内容
- 更新了项目文档，反映目录结构的变化

## 6.
- 重构了 `config` 目录结构，提高了模块化和可维护性
  - 创建了 `core` 子目录集中管理配置核心功能
  - 移除了空的 `theme_config` 和 `app_config` 目录
  - 优化了 `settings` 模块，增加了应用配置加载功能
  - 改进了 `constants.py` 文件结构，添加了版本信息
  - 简化了 `config/__init__.py` 中的路径处理逻辑，减少冗余代码
- 更新了项目结构文档，反映配置目录的变化
- 保持了文档和工作区结构的一致性

## 7.
- 完善了 `config` 目录的文档说明
  - 更新了 `doc_Structure_Description.md` 中的详细结构描述
  - 为所有配置相关文件添加了准确的行数信息
  - 增加了对配置模块功能和关系的详细说明
  - 明确了各个子模块的职责和功能边界
  - 突出了配置系统的模块化设计和良好结构
- 验证了配置模块的正常运行

## 8.
- 重构了 `src` 目录结构
  - 优化了核心模块组织，提高代码可读性和维护性
  - 确保所有模块之间的接口清晰和一致
  - 改进了模块间的依赖关系，减少了循环导入问题
  - 统一了代码风格和命名约定
- 更新了所有相关文档，确保与代码结构一致
- 项目结构文档保持同步更新

## 9.
- 创建了 `docs` 目录用于集中管理项目文档
  - 将技术架构文档移入 `docs/ARCHITECTURE.md`
  - 添加了详细的API文档
  - 创建了用户手册和开发指南
- 确保所有现有文档的一致性和完整性
- 更新了项目结构文档以反映这些变化

## 2023-10-15
- 初始化项目
- 创建基本的文件夹结构
- 实现配置管理系统

## 2023-10-20
- 添加AI审校核心功能
- 实现文本分段和处理逻辑
- 集成OpenAI API

## 2023-10-25
- 添加通义千问API支持
- 优化审校结果显示
- 修复文本分割问题

## 2023-11-01
- 实现UI界面
- 添加配置编辑器
- 改进安装过程

## 2023-11-10
- 添加人工审校功能
- 优化表格处理
- 修复多个小问题

## 2023-11-20
- 实现关键验证系统
- 添加时间锁定功能
- 提高系统安全性

## 2023-12-01
- 发布1.0.0版本
- 完成用户手册
- 添加自动更新功能

## 2024-06-05
- 添加基于LangChain的医学RAG系统
- 实现医学文档的向量化和检索功能
- 集成医学事实性判断到AI审校流程
- 优化配置界面，添加医学RAG相关配置
- 创建医学参考文档目录和管理功能
- 添加适配医学RAG的提示语模板

## 2024-06-30
- 修复了config模块中的循环导入问题
  - 修改了config/core/__init__.py，移除循环导入
  - 调整了config_manager.py中的导入方式，使用相对导入
  - 在PathManager类中添加了缺失的方法（get_app_config_path, get_theme_config, get_default_output_dir）
  - 添加了ThemeManager类，提供字体管理功能
- 优化了配置编辑器的错误处理
  - 添加了详细的错误跟踪和日志记录
  - 改进项目路径处理，确保正确加载模块
- 系统稳定性得到提升，避免启动时的循环导入错误

## 2024-07-01
- 深化了配置管理系统的优化
  - 实现了ConfigManager和PathManager的完整单例模式
  - 移除了config/__init__.py中的重复配置加载代码
  - 改进了所有管理器类的初始化机制，避免重复初始化
- 增强了日志记录功能
  - 为配置编辑器添加了全面的日志记录
  - 实现了按日期自动生成日志文件
  - 添加了更详细的错误捕获和记录机制
- 提高了整体代码质量
  - 增加了类和方法的文档字符串
  - 统一了代码风格和命名约定
  - 改进了异常处理的一致性

## 2024-07-10
- 更新医学RAG系统以适配LangChain最新版本
  - 修复了由于LangChain库重组导致的导入错误
  - 添加了langchain-community依赖项
  - 更新了向量存储、嵌入模型和文档加载器的导入路径
  - 将Document导入从langchain.schema更新为langchain_core.documents
- 更新了setup.py，明确添加了langchain-community依赖
- 修复了项目启动时的模块导入错误问题

## 2024-07-11
- 进一步优化医学RAG系统
  - 添加了langchain-huggingface依赖和导入
  - 更新了HuggingFaceEmbeddings的导入路径
  - 解决了启动时的弃用警告问题
  - 添加了警告过滤机制，优化用户体验
- 更新了项目依赖管理
  - 在setup.py中添加了所有最新必要依赖
  - 确保依赖说明准确反映了项目需求
- 进行了彻底的兼容性测试
  - 验证在Windows环境下的运行稳定性
  - 确保所有功能模块正常工作

## 2024-07-12
- 修复UI界面相关问题
  - 解决了ConfigEditor返回主页后出现空白页面的bug
  - 优化了StartPage中的show_main_page方法，避免不必要的重新初始化
  - 重构了ConfigEditor，使用ConfigManager的create_config_ui方法
  - 提高了UI界面在各种情况下的稳定性和一致性
- 改进界面组件的布局和交互逻辑
  - 确保配置页面和主页面之间的平滑切换
  - 优化按钮的响应方式和交互行为
- 增强用户体验
  - 提升界面操作的流畅性
  - 保证应用在各种操作下的稳定性
